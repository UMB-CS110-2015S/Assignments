% -----------------------------------------------------------------------------
% The MIT License (MIT)
%
% Copyright (c) 2015 Pejman Ghorbanzade
%
% Permission is hereby granted, free of charge, to any person obtaining a copy
% of this software and associated documentation files (the "Software"), to deal
% in the Software without restriction, including without limitation the rights
% to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
% copies of the Software, and to permit persons to whom the Software is
% furnished to do so, subject to the following conditions:
%
% The above copyright notice and this permission notice shall be included in
% all copies or substantial portions of the Software.
%
% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
% AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
% OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
% THE SOFTWARE.
% -----------------------------------------------------------------------------

\ProvidesPackage{assignment}

\usepackage{lastpage}
\usepackage[letterpaper]{geometry}
\usepackage{fancyhdr}
\usepackage{listings}
\usepackage{xcolor}
\usepackage{graphicx}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{verbatimbox}
\usepackage{enumitem}
\usepackage{array}
\usepackage{longtable}
\usepackage{tikz}
\usepackage{hyperref}

\newcommand{\course}[2]{
  \def \argId {id}
  \def \argName {name}
  \def \argVenue {venue}
  \def \argSemester {semester}
  \def \argDepartment {department}
  \def \argUniversity {university}
  \def \argGiven {#1}
  \ifx\argGiven\argId
    \def \courseId {#2}
  \fi
  \ifx\argGiven\argName
    \def \courseName {#2}
  \fi
  \ifx\argGiven\argVenue
    \def \courseVenue {#2}
  \fi
  \ifx\argGiven\argSemester
    \def \courseSemester {#2}
  \fi
  \ifx\argGiven\argDepartment
    \def \courseDepartment {#2}
  \fi
  \ifx\argGiven\argUniversity
    \def \courseUniversity {#2}
  \fi
}

\newcommand{\instructor}[2]{
  \def \argName {name}
  \def \argPosition {position}
  \def \argEmail {email}
  \def \argPhone {phone}
  \def \argOffice {office}
  \def \argOfficeHours {office-hours}
  \def \argAddress {address}
  \def \argGiven {#1}
  \ifx\argGiven\argName
    \def \instructorName {#2}
  \fi
  \ifx\argGiven\argPosition
    \def \instructorPosition {#2}
  \fi
  \ifx\argGiven\argEmail
    \def \instructorEmail {#2}
  \fi
  \ifx\argGiven\argPhone
    \def \instructorPhone {#2}
  \fi
  \ifx\argGiven\argOffice
    \def \instructorOffice {#2}
  \fi
  \ifx\argGiven\argOfficeHours
    \def \instructorOfficeHours {#2}
  \fi
  \ifx\argGiven\argAddress
    \def \instructorAddress {#2}
  \fi
}

\newcommand{\doc}[2]{
  \def \argTitle {title}
  \def \argDatePub {date-pub}
  \def \argDateDue {date-due}
  \def \argPoints {points}
  \def \argGiven {#1}
  \ifx\argGiven\argTitle
    \def \docTitle {#2}
  \fi
  \ifx\argGiven\argDatePub
    \def \docDatePub {#2}
  \fi
  \ifx\argGiven\argDateDue
    \def \docDateDue {#2}
  \fi
  \ifx\argGiven\argPoints
    \def \docPoints {#2}
  \fi
}

\title{\docTitle}
\author{\instructorName}
\newgeometry{hmargin=4cm,vmargin=3cm}
\setlength{\headheight}{15pt}
\fancyhead[C]{\courseUniversity, \courseDepartment}
\fancyfoot[C]{\courseId: \courseName, \courseSemester}
\fancyfoot[RO,LE]{\thepage}
\renewcommand{\headrulewidth}{0.5pt}
\renewcommand{\footrulewidth}{0.5pt}
\renewcommand*\footnoterule{}
\renewcommand*{\thefootnote}{\fnsymbol{footnote}}
\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\lstset{frame=tb,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numbersep=10pt,
  numberstyle=\tiny\color{black},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=5
}
\setlength{\parskip}{0pt}
\setlength{\parindent}{0pt}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\pagestyle{fancy}

\newcommand{\prepare}[1]{
	\def\argGiven{#1}
	\def\argHeader{header}
	\def\argFooter{footer}
	\ifx\argGiven\argHeader
    \begingroup
      \begin{center}
        { \Large \courseId: \courseName }

        \vspace{5pt}

        { \courseSemester, \courseVenue }\\
        {\small Instructor:\ \instructorName}

        \vspace{10pt}

        \textbf{ \large \docTitle }
      \end{center}
      \begin{flushright}
      Release Date: \docDatePub

      Due Date: \docDateDue
      \end{flushright}
      \vspace{10pt}
      \setlength{\parskip}{0pt}
    \endgroup
  \fi
	\ifx\argGiven\argFooter
    \begingroup
    \section*{Submission Guidelines}
    All submissions should be made on-line through {\href{http://ghorbanzade.com}{course website}}.
    All solutions should be typed.
    No paper copies are accepted.
    Please pack all your solution codes together with your prepared text files into a single \texttt{zip} file.
    You are expected to include a header containing your name and email address for each programming file.
    \section*{Late Submission Policy}
    Solutions may be submitted late by up to two days; the penalty for late submission increasing linearly from 20\% to 100\% of the total score.
    \endgroup
	\fi
}
