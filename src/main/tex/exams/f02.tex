%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% CS110: Introduction to Computing
% Copyright 2015 Pejman Ghorbanzade <mail@ghorbanzade.com>
% Creative Commons Attribution-ShareAlike 4.0 International License
% https://github.com/ghorbanzade/UMB-CS110-2015S/blob/master/LICENSE
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\def \topDirectory {.}
\def \texDirectory {\topDirectory/src/main/tex}

\documentclass[12pt,letterpaper,twoside]{article}
\usepackage{\texDirectory/template/style/directives}
\usepackage{\texDirectory/template/style/assignment}
\input{\texDirectory/template/config}

\begin{document}

\doc{title}{Final Exam}
\doc{points}{20}

\prepare{header}

\subsection*{Question 1}

The following code snippet either do not compile or do not run as expected. There are five \textbf{distinct} problems. You are expected to find and fix all errors so that given command-line argument will lead to expected output as indicated.

Execution Script \hfill Expected Output\\
\texttt{java IdentityMatrix 2} \hfill \texttt{1 0}\\
.\hfill \texttt{0 1}

%\lstset{language=java, tabsize=2}
\begin{lstlisting}
public class IdentityMatrix {
	public static void main(String[] args) {
		int i, j;
		int row = Integer.parseInt(args[0]);
		int[][] matrix = int[row][row];
		for (i = 1; i < row; i++) {
			matrix[i,i] = 1;
		}
		for (i = 1; i < row; i++) {
			for (j = 1; j < row; j++) {
				System.out.print(matrix[i,j] + " ");
			}
		}
	}
}
\end{lstlisting}

\newpage

\subsection*{Question 2}

The following code snippet compiles and runs without error. Determine the output of the program and support your answer by explaining how the program works.
%\lstset{language=java, tabsize=2}
\begin{lstlisting}
import java.util.Scanner;
public class CoolArray {
	public static void main(String[] args) {
		Scanner input = new Scanner(System.in);
		System.out.print("Enter array size: ");
		int size = input.nextInt();
		input.close();
		double array[] = new double[2*size];
		for (int i = 0; i < size; i++) {
			int num = (int) (Math.random() * 10);
			array[i] = num;
			array[2*size - i - 1] = 10 - num;
		}
		double sum = 0;
		for (int i = 0; i < 2*size; i++) {
			sum += array[i];
		}
		System.out.println(sum/size/2);
		System.out.println();
	}
}
\end{lstlisting}

\newpage

\subsection*{Question 3}

The following code snippet was supposed to ask user for an index $i$ and change the element stored in index $i$ of the array \texttt{array} (initialized at first with zeros) to 1.

%\lstset{language=java, tabsize=2}
\begin{lstlisting}
import java.util.Scanner;
public class ErrorProne {
	public static void main(String[] args) {
		int[] array = new int[10];
		for (int i = 0; i < array.length; i++)
			array[i] = 0;
		Scanner input = new Scanner(System.in);
		System.out.print("Enter index: ");
		int num = input.nextInt();
		array[num] = 1;
		System.out.println("The array is:");
		for (int i = 0; i < array.length; i++)
			System.out.print(array[i]+" ");
	}
}
\end{lstlisting}

Clients have been complaining that some user inputs will cause this program to terminate without showing what caused the problem. You are asked to rewrite the program such that proper error will be shown for problematic user inputs.
\newpage

\subsection*{Question 4}

The following code snippet is developed by a CS110 student to control movement of an elephant on the x-axis from -200 to 200.
%\lstset{language=java, tabsize=2}
\begin{lstlisting}
// Written by: Draco Malfoy <Draco.Malfoy001@hogwarts.edu>
// File Elephant.java
public class Elephant {
	public String name;
	public double position;
	public void move(int dist) {
		this.position += dist;
	}
	public Elephant() {
	}
}
// File ElephantTest.java
public class ElephantTest {
	public static void main(String[] args) {
		Elephant trunky = new Elephant();
		trunky.name = "Dumbo";
		trunky.position = 100;
		trunky.move(10);
		System.out.println("Position: "+trunky.position);
	}
}
\end{lstlisting}
\begin{enumerate}[label=(\alph*)]\itemsep=0pt
\item You are asked to write to the student and suggest what improvements can be made to this code, to better adhere to object-oriented principles.
\item Rewrite the given code to better illustrate your suggestions.
\end{enumerate}

\newpage

\subsection*{Question 5}

\textit{Java++} is an imaginary object-oriented programming language which is syntactically the same as Java but lacks a few most basic features such as primitive arithmetic operations like addition (\texttt{+}) and subtraction (\texttt{-}).

In fact, the only arithmetic operations defined in \textit{Java++} are incrementing (\texttt{++}) and decrementing (\texttt{--}), that can be performed only on objects of class \texttt{Arithmetic}. The idea is adding and subtracting can be achieved with these two operators. The following code snippet shows an example of how to add and subtract two numbers in \textit{Java++}.

%\lstset{language=java, tabsize=2, numbers=left}
\begin{lstlisting}
Arithmetic num1 = new Arithmetic(11);
Arithmetic num2 = new Arithmetic(6);
num1++;
num2--;
System.out.println(num1.add(num2)); // prints 17
System.out.println(num1.subtract(num2)); // prints 7
\end{lstlisting}

In their last meeting, the development team agreed that class Arithmetic should be of the form given below.

%\lstset{language=java, tabsize=2, numbers=left}
\begin{lstlisting}
public class Arithmetic {
	private value;
	public Arithmetic(int value) {
		this.value = value;
	}
	public Arithmetic add(Arithmetic num) {
		// To be developed by you
	}
	public Arithmetic subtract(Arithmetic num) {
		// To be developed by you
	}
	// some more methods and attributes you don't need to care about
}
\end{lstlisting}

As part of the development team, you are asked to contribute to this language by developing the two methods \texttt{add()} and \texttt{subtract()}.
\newpage

\subsection*{Question 6}

A washing machine is very simple to use. You plug it in, open its door, put your clothes in it, close its door and turn it on. Obviously, you cannot expect anything to happen if the machine is unplugged. As well, you cannot put your clothes in before you open washer's door. For safety reasons, the machine will operate only if it is not empty and its door is closed. Needless to say, when you buy a washing machine, it's empty, unplugged and its door is closed.

\begin{enumerate}[label=(\alph*)]\itemsep=0pt
	\item Draw a UML diagram for class \texttt{Washer.java}.
	\item Develop the class \texttt{Washer.java} based on assumptions provided in question, respecting all object-oriented concepts.
	\item Develop a class \texttt{WasherTest.java} to instantiate a washing machine and wash some dirty shirts.
\end{enumerate}

\prepare{footer}

\end{document}
